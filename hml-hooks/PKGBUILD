# Maintainer: LordDemecrius83 <lorddemecrius83@proton.me>

pkgname=hml-hooks
pkgver=1.0
pkgrel=1
pkgdesc='Hatsune Miku Linux pacman hooks'
arch=('any')
license=('GPL3')
url=https://github.com/HatsuneMikuLinux/PKGBUILDS/tree/master/$pkgname
_url=https://raw.githubusercontent.com/HatsuneMikuLinux/PKGBUILDS/master/$pkgname
depends=(libnotify)

source=(
  $_url/hml-os-release.hook
  $_url/hml-lsb-release.hook
  $_url/hml-pixmaps.hook
  $_url/${pkgname}.hook
  $_url/${pkgname}-runner
  $_url/hml-reboot-required2
  $_url/hml-reboot-required
  $_url/hml-reboot-required.hook
)
source+=(  # Planned to be removed near the end of year 2023:
  $_url/hml-logo.png
  $_url/hml-logo.svg
)

sha512sums=('d315c86c3f18278883161798b1f8ec891d20efb0bf2ada4dbf406a30767506807c494256e872cacd3c5ebe08d4f73bc96517c52d227808c5bcfbf89284094c72'
            '20568a779c4ec34e9a79559a125efb1a85aacde8474df4ab9c5f766b6eb7a6b5848c049387f78306ad844e7571cf8a22afc89e6aab18c47b5be419e3d0e4e2e7'
            '11940266adb37425e9b89b448a005a99dfc978ec0c91555cfa78f2e955a35bcd175374b775d7d31a395ce135587be106cbc8ad55eef1a9c933cea1806bf4dcfc'
            'be6f5e4bbc9facbfec771ad29c0724cd8e4e31fcdc091c8c6bf2eddb9be6ff8db4e49e5c1212271edbb9915b8719f4c3e77636715ac9f39804650de0072a36ae'
            'b468c02caabebca438821f4b61d63316f8b631f0024511b0e17570f16e0a6dd313f2651fb5602a15bc5834c0e1b37d1af99f3f469ea33d7e779aba12b146b453'
            '50ba30c78a2f7aaeacc8fbe542c26b214ece56937d298aa62525a787ac26be1ab05ddcb5e88d6f0b635fd7f8b8244f3c96be97419bd650c3ff054ad29268f959'
            '195cc83df58e1f65b43f39202fe60aecf348e843c9c1b414897dbf6577ee7ffc67b1d1ba5ca0325e501cffebd304b6eca90f1c8fd4af4dd75b94fbc7834f59f4'
            '869fed4379749817456417ea17dad002ae0e4343c6cb38ed9c86708bb8ef843bfa77e17bea830c18e905922cc58e0d53c9c73f3270b6686461ee3092cc5ddbe4'
            '22a73598a4e0cea5b25bfa701890b4851962fb5bf88c376ad24f9eed63ce25949d8a26a49f9d2a2729adb04605132ae0e2080789a6f56f832b41aab3ab8688fa')

package() {
  local hooks=$pkgdir/usr/share/libalpm/hooks
  local pixmaps=${pkgdir}/usr/share/pixmaps
  local bin=$pkgdir/usr/bin

  install -Dm644 hml-lsb-release.hook      $hooks/hml-lsb-release.hook
  install -Dm644 hml-os-release.hook       $hooks/hml-os-release.hook
  install -Dm644 hml-lsb-release.hook      $hooks/hml-pixmaps.hook
  install -Dm644 ${pkgname}.hook           $hooks/${pkgname}.hook
  install -Dm644 hml-reboot-required.hook  $hooks/hml-reboot-required.hook
  install -Dm755 hml-logo.png       		"$pixmaps"/hml-logo.png
  install -Dm755 hml-logo.svg       		"$pixmaps"/hml-logo.svg
  install -Dm755 hml-reboot-required       $bin/hml-reboot-required
  install -Dm755 hml-reboot-required2      $bin/hml-reboot-required2
  install -Dm755 ${pkgname}-runner         $bin/${pkgname}-runner

  # Planned to be removed near the end of year 2023:
  #install -Dm755 hml-repo-before-arch-repos      $pkgdir/usr/bin/hml-repo-before-arch-repos
  #install -Dm644 hml-repo-before-arch-repos.hook $pkgdir/usr/share/libalpm/hooks/hml-repo-before-arch-repos.hook
}
